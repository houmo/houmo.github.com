<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.77 [en] (X11; U; Linux 2.4.14-pre8 i686) [Netscape]">
   <meta name="Author" content="Hou Mo">
   <meta name="Keywords" content="Houmo linux">
   <title>Hou Mo's Home Page</title>
</head>
<body text="#000061" bgcolor="#FFFFFF" link="#0000EF" vlink="#51188E" alink="#FF0000">
<b><font color="#000061"><font size=+3>Hou Mo's&nbsp;&nbsp;</font></b><b><font size=-0><font color="#000055"<a href="houshuang0@gmail.com">houshuang0@gmail.com</a></font></b>
</font><br>
<i><font size=-0>Yes,I know these pages are boring.&nbsp; But they load faster than yours do!&nbsp;&nbsp;--&nbsp;&nbsp;Andrew Morton</font></i><i><font size=-0></font></i>
<br><br><hr WIDTH="80%" align="left">




<h1>
<a name="1"></a><b> <font size=+1>About Kernel</font></b></h1>
<blockquote>This is a hard-realtime message passing kernel with
<ul>
<li>
preemptive multitasking</li>

<li>
multiple priorities (round-robin within a single priority)</li>

<li>
timers</li>

<li>
dynamic memory manager</li>

<li>
a low-priority memory compacting task</li>

<li>
a cblock-based character device driver interface</li>
</ul>
and not much else.
<p>It's written in C++ (g++) for the TMS34010.&nbsp; There's also infrastructure
for the Motorola 68000, although I haven't used that for a while.&nbsp;
This kernel should be quite portable, given that the 34010 is little-endian
and the 68k is big-endian. The 68k-specific code is only 130 lines.
</p><p>The realtime kernel source is in the lib/libk/ directory of the 34010
source tree, available <a href="gsp.tar.gz">here</a>.</p></blockquote>

<h2>
<a name="1"></a><b> <font size=+1>A TMS34010 development system</font></b></h2>
<blockquote>The Texas Instruments 34010 is a discontinued 32 bit CISC microprocessor
with an on-board graphics engine.
<p>The 34010 is quite bizarre in that it is bit addressable: to advance
a pointer by a byte you must add eight to it. When I discussed this with
Richard Stallman he said that gcc would cope with it easily.&nbsp; He was
wrong - at all levels gcc is <i>littered</i> with the assumption that
</p><blockquote><tt>char *p;</tt>
<br><tt>p = p + 1;</tt></blockquote>
and
<blockquote><tt>char *p</tt>
<br><tt>p = (char *)((long)p + 1);</tt></blockquote>
are equivalent.
<p>This development system includes a port of gcc and g++ (2.5.8), a YACC-based
assembler, a linker, an archiver, an nm equivalent, a disassembler, a download
utility and various other bits and pieces.
</p><p>The 34k development system may be accessed <a href="gsptools.html">here</a>.</p></blockquote>



<hr WIDTH="100%">
<br><font size=-1><i>Quit don't quit. Noodles don't noodles.</font>
<br><i><font size=-1>Hou Mo - Mox - 18 Dec 2011</font></i>
<br>
</body>
</html>

